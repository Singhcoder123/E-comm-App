{% extends 'base.html' %}
{% load static %}
{% block 'main' %}
<div class="container mt-5"><!-- Added margin-top to the main container -->
<div class="row"><!----row 2 starts-->
    <div class="col-md-2" >
        <h5>Filter by category</h5>
        <hr>
        <p><a href="/index" class="anchor">All</a></p>
        <p><a href="/catfilter/3" class="anchor">By Mobile</a></p>
        <p><a href="/catfilter/2" class="anchor">By Shoes</a></p>
        <p><a href="/catfilter/1" class="anchor">By Cloth</a></p>
        <p><a href="/catfilter/4" class="anchor">By Electronics</a></p>
        <p><a href="/catfilter/5" class="anchor">By Laptop and Desktop</a></p>
        <p><a href="/catfilter/6" class="anchor">By Fashion</a></p>
        <h5>Filter by price Range</h5>
        <hr>
        <form action="/range">
            <div class="mb-3">
                <label for="Input1" class="form-label">Min Value:</label>
                <input type="number" name="min" class="form-control" id="Input1" placeholder="enter min value">
              </div>
              <div class="mb-3">
                <label for="Input2" class="form-label">Max Value:</label>
                <input type="number" name="max" class="form-control" id="Input12" placeholder="enter max value">
              </div>
              <div class="mb-3">
                
                <input type="submit" class="btn btn-danger" value="search">
              </div>
        </form>
        <h5>Sort By Price</h5>
        <hr>
        <p><a href="/sort/0" class="anchor">Low to High</a></p>
        <p><a href="/sort/1" class="anchor">High to Low</a></p>
    </div>
    <div class="col-md-10">
        <div class="row">
{% block content %}
    <h1>Search Results</h1>
    <form class="search-form" method="GET" action="{% url 'search' %}">
        <input class="form-control mr-sm-2" type="search" name="query" placeholder="Search" aria-label="Search" value="{{ query }}">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
    <div class="row">
    {% if query %}
        <p>Results for "{{ query }}":</p>
        <ul>
        <div class="col-md-10">
            <div class="row">        
            {% for result in results %}
            <div class="col-md-3 mb-3">
                <div class="card h-100">
                    <img src="{{result.pimage.url}}" class="card-img-top" alt="{{result.name}}" style="height: 200px; object-fit: cover;">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{result.name}}</h5>
                        <p class="card-text">Rs. {{result.price}}</p>
                        <p class="card-text">
                          {% if result.cat == 1 %}
                          <p class="card-text">Cloth</p>
                          {% elif result.cat == 2 %}
                          <p class="card-text">Shoes</p>
                          {% elif result.cat == 3 %}
                          <p class="card-text">Mobile</p>
                          {% elif result.cat == 4 %}
                          <p class="card-text">Electronics</p>
                          {% elif result.cat == 5 %}
                          <p class="card-text">Laptop and Desktop</p>
                          {% else %}.
                          <p class="card-text">Fashion</p>
                          {% endif %}
                        </p>
                        <a href="/pd/{{result.id}}" class="btn btn-primary mt-auto">See Details</a>
                    </div>
                </div>
            </div>
           
            {% empty %}
                <li>No results found.</li>
            {% endfor %}
        </div> 
    </div>       
        </ul>
    {% endif %}
{% endblock %}
        </div>
           
    </div>
    
</div><!-----row 2 ends-->
</div>
{% endblock 'main' %}
